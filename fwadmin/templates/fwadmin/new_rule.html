{% extends "base.html" %}
{% load i18n %}

{% block content %}

<div class="page-header">
  <h1>New rule for {{ host.name }}</h1>
</div>

{% if form.errors %}
<p style="color: red;">
 {% blocktrans %} Please correct the error{{ form.errors|pluralize }} below. {% endblocktrans %}
</p>
{% endif %}

<form action="" method="post">
  {% csrf_token %}
  <table>
    {{ form.as_table }}
  </table>
  <input type="submit" value="Add">
</form>

<script type="text/javascript">                                         
$(document).ready(function(){

  // keep id_stock_port and id_port in sync
  $("#id_stock_port").change(function() {
    var selected_str = $("#id_stock_port option:selected").text();
    var port = selected_str.match(/.*\((.*)\)/)[1];
    $("#id_port").val(port);
  });

  // reset id_stock_port when id_port changes
  $("#id_port").change(function() {
     $("#id_stock_port").val(0);
  });

});
 </script>   

{% endblock %}
